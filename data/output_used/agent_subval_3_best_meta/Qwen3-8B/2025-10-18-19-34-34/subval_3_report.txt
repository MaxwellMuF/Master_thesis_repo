## General ##
Date: 2025-10-19
Used GPU: a100

## Data and Model ##
Dataset: subval_3.parquet, Shape: (100, 456)
Prompt set: one_long.json, #prompts: 50
Model: Qwen/Qwen3-8B

## p_data_config ##
Temperature: 0.6
Max tokens: 10000
Role with patient note: user
Enable thinking: True
Continue final message: False
Add generation prompt: True
Improve prompt: True

## Time last prompt##
Make prompts: 0h 0m 1s
Predictions: 0h 9m 4s
Evaluation: 0h 0m 0s
Script total: 0h 9m 5s

## Evaluation ##
Evaluation dataset: subval_3.parquet, length: 100, metric: LONG_CODES, mean codes GT: 13.0
|  Prompt  | Precision |  Recall  |    F1    |  F1 = 0  | Prompt len | Output len |  Duration  | Codes Pred |
-------------------------------------------------------------------------------------------------------------
|    0     |  0.1613   |  0.0913  |  0.1076  |    40    |    2802    |    9874    | 0h 5m 56s  |     8      |
|    1     |  0.1749   |  0.0972  |  0.1132  |    36    |    3383    |   11774    |  0h 7m 2s  |     8      |
|    2     |  0.1621   |  0.0904  |  0.1086  |    31    |    2404    |   12340    | 0h 7m 22s  |     8      |
|    3     |  0.1710   |  0.0995  |  0.1138  |    36    |    3907    |   12966    | 0h 7m 25s  |     10     |
|    4     |  0.1000   |  0.0830  |  0.0814  |    38    |    4594    |   13097    | 0h 7m 21s  |     11     |
|    5     |  0.1794   |  0.1041  |  0.1232  |    34    |    4373    |   11380    | 0h 6m 37s  |     8      |
|    6     |  0.1689   |  0.1020  |  0.1178  |    33    |    4210    |   12377    | 0h 6m 59s  |     10     |
|    7     |  0.1701   |  0.1050  |  0.1198  |    32    |    4444    |   12508    | 0h 7m 19s  |     9      |
|    8     |  0.1710   |  0.0993  |  0.1161  |    34    |    4320    |   12072    | 0h 6m 52s  |     9      |
|    9     |  0.1486   |  0.1006  |  0.1099  |    35    |    4264    |   13118    | 0h 6m 57s  |     10     |
|    10    |  0.1640   |  0.0940  |  0.1090  |    33    |    4523    |   11849    |  0h 7m 1s  |     9      |
|    11    |  0.1705   |  0.0985  |  0.1114  |    30    |    4150    |   12311    | 0h 7m 16s  |     9      |
|    12    |  0.1693   |  0.1129  |  0.1236  |    31    |    4440    |   12857    | 0h 7m 17s  |     12     |
|    13    |  0.1568   |  0.0797  |  0.0914  |    43    |    4521    |   12206    | 0h 7m 22s  |     10     |
|    14    |  0.1630   |  0.1041  |  0.1156  |    35    |    4419    |   11749    | 0h 6m 46s  |     10     |
|    15    |  0.1733   |  0.1097  |  0.1227  |    31    |    4157    |   12560    | 0h 6m 59s  |     9      |
|    16    |  0.1914   |  0.1088  |  0.1241  |    27    |    4296    |   11809    |  0h 7m 6s  |     9      |
|    17    |  0.1893   |  0.1373  |  0.1453  |    22    |    4952    |   13163    | 0h 7m 34s  |     11     |
|    18    |  0.1988   |  0.0939  |  0.1162  |    32    |    5003    |   12747    | 0h 7m 31s  |     10     |
|    19    |  0.1713   |  0.1189  |  0.1305  |    30    |    4962    |   13543    | 0h 7m 42s  |     9      |
|    20    |  0.1821   |  0.1359  |  0.1426  |    20    |    5324    |   13802    | 0h 7m 53s  |     11     |
|    21    |  0.2235   |  0.1327  |  0.1526  |    23    |    4758    |   13493    | 0h 7m 39s  |     9      |
|    22    |  0.1382   |  0.1130  |  0.1161  |    30    |    7926    |   13052    | 0h 7m 33s  |     11     |
|    23    |  0.1885   |  0.1067  |  0.1276  |    30    |    4880    |   12808    | 0h 7m 29s  |     9      |
|    24    |  0.1624   |  0.1184  |  0.1256  |    26    |    7956    |   13732    |  0h 8m 1s  |     11     |
|    25    |  0.1951   |  0.1332  |  0.1473  |    24    |    4709    |   13867    | 0h 7m 40s  |     9      |
|    26    |  0.1885   |  0.1156  |  0.1320  |    30    |    4932    |   12985    | 0h 7m 31s  |     9      |
|    27    |  0.2007   |  0.1380  |  0.1508  |    24    |    5000    |   12959    | 0h 7m 38s  |     10     |
|    28    |  0.1995   |  0.1213  |  0.1409  |    24    |    5099    |   12293    | 0h 7m 19s  |     9      |
|    29    |  0.1679   |  0.1226  |  0.1285  |    26    |    5149    |   13128    | 0h 7m 32s  |     11     |
|    30    |  0.1857   |  0.1424  |  0.1485  |    19    |    5236    |   12361    | 0h 7m 30s  |     11     |
|    31    |  0.1503   |  0.1350  |  0.1313  |    22    |    5212    |   13441    | 0h 7m 29s  |     12     |
|    32    |  0.1668   |  0.1067  |  0.1169  |    28    |    4829    |   12761    | 0h 7m 21s  |     9      |
|    33    |  0.1342   |  0.1251  |  0.1184  |    21    |    8310    |   14779    | 0h 8m 31s  |     12     |
|    34    |  0.1725   |  0.1302  |  0.1381  |    21    |    5418    |   12637    | 0h 7m 27s  |     10     |
|    35    |  0.1605   |  0.0736  |  0.0913  |    46    |    4418    |   11403    |  0h 7m 1s  |     9      |
|    36    |  0.1896   |  0.1319  |  0.1442  |    24    |    5377    |   13139    | 0h 7m 37s  |     10     |
|    37    |  0.1179   |  0.1133  |  0.1078  |    29    |    6746    |   15297    | 0h 8m 12s  |     12     |
|    38    |  0.1347   |  0.1392  |  0.1256  |    23    |    5432    |   14056    |  0h 8m 8s  |     14     |
|    39    |  0.1841   |  0.1288  |  0.1402  |    25    |    5083    |   13084    | 0h 7m 27s  |     9      |
|    40    |  0.1415   |  0.1087  |  0.1148  |    35    |    5583    |   13351    | 0h 7m 42s  |     11     |
|    41    |  0.1769   |  0.1016  |  0.1166  |    34    |    4483    |   12842    | 0h 7m 20s  |     10     |
|    42    |  0.1648   |  0.1351  |  0.1358  |    24    |    4914    |   13362    | 0h 7m 38s  |     12     |
|    43    |  0.1722   |  0.1153  |  0.1262  |    27    |    4820    |   12519    | 0h 7m 25s  |     10     |
|    44    |  0.1867   |  0.1298  |  0.1425  |    24    |    4884    |   12705    | 0h 7m 36s  |     10     |
|    45    |  0.1528   |  0.1321  |  0.1270  |    28    |    5570    |   12859    | 0h 7m 36s  |     13     |
|    46    |  0.1789   |  0.1168  |  0.1268  |    29    |    5010    |   11790    |  0h 7m 5s  |     9      |
|    47    |  0.1458   |  0.1267  |  0.1232  |    24    |    6158    |   13170    | 0h 7m 50s  |     14     |
|    48    |  0.1522   |  0.1105  |  0.1157  |    31    |    5698    |   13703    | 0h 7m 33s  |     10     |
|    49    |  0.1245   |  0.1447  |  0.1211  |    23    |    8683    |   15372    |  0h 9m 4s  |     16     |

Evaluation dataset: subval_3.parquet, length: 100, metric: SHORT_CODES, mean codes GT: 12.9
|  Prompt  | Precision |  Recall  |    F1    |  F1 = 0  | Prompt len | Output len |  Duration  | Codes Pred |
-------------------------------------------------------------------------------------------------------------
|    0     |  0.2258   |  0.1279  |  0.1498  |    29    |    2802    |    9874    | 0h 5m 56s  |     8      |
|    1     |  0.2370   |  0.1307  |  0.1529  |    26    |    3383    |   11774    |  0h 7m 2s  |     8      |
|    2     |  0.2340   |  0.1292  |  0.1566  |    23    |    2404    |   12340    | 0h 7m 22s  |     8      |
|    3     |  0.2245   |  0.1347  |  0.1539  |    29    |    3907    |   12966    | 0h 7m 25s  |     10     |
|    4     |  0.1497   |  0.1213  |  0.1230  |    27    |    4594    |   13097    | 0h 7m 21s  |     11     |
|    5     |  0.2529   |  0.1439  |  0.1722  |    22    |    4373    |   11380    | 0h 6m 37s  |     8      |
|    6     |  0.2375   |  0.1399  |  0.1627  |    24    |    4210    |   12377    | 0h 6m 59s  |     10     |
|    7     |  0.2392   |  0.1456  |  0.1671  |    24    |    4444    |   12508    | 0h 7m 19s  |     9      |
|    8     |  0.2537   |  0.1471  |  0.1727  |    21    |    4320    |   12072    | 0h 6m 52s  |     9      |
|    9     |  0.2011   |  0.1375  |  0.1509  |    24    |    4264    |   13118    | 0h 6m 57s  |     10     |
|    10    |  0.2392   |  0.1376  |  0.1605  |    24    |    4523    |   11849    |  0h 7m 1s  |     9      |
|    11    |  0.2397   |  0.1307  |  0.1528  |    24    |    4150    |   12311    | 0h 7m 16s  |     9      |
|    12    |  0.2529   |  0.1566  |  0.1748  |    21    |    4440    |   12857    | 0h 7m 17s  |     12     |
|    13    |  0.2140   |  0.1099  |  0.1251  |    31    |    4521    |   12206    | 0h 7m 22s  |     10     |
|    14    |  0.2285   |  0.1489  |  0.1632  |    22    |    4419    |   11749    | 0h 6m 46s  |     10     |
|    15    |  0.2453   |  0.1443  |  0.1668  |    23    |    4157    |   12560    | 0h 6m 59s  |     9      |
|    16    |  0.2596   |  0.1508  |  0.1728  |    21    |    4296    |   11809    |  0h 7m 6s  |     9      |
|    17    |  0.2514   |  0.1822  |  0.1946  |    16    |    4952    |   13163    | 0h 7m 34s  |     11     |
|    18    |  0.2533   |  0.1288  |  0.1541  |    25    |    5003    |   12747    | 0h 7m 31s  |     10     |
|    19    |  0.2330   |  0.1564  |  0.1739  |    21    |    4962    |   13543    | 0h 7m 42s  |     9      |
|    20    |  0.2561   |  0.1907  |  0.2009  |    15    |    5324    |   13802    | 0h 7m 53s  |     11     |
|    21    |  0.2796   |  0.1681  |  0.1943  |    18    |    4758    |   13493    | 0h 7m 39s  |     9      |
|    22    |  0.1773   |  0.1410  |  0.1457  |    24    |    7926    |   13052    | 0h 7m 33s  |     11     |
|    23    |  0.2520   |  0.1395  |  0.1677  |    25    |    4880    |   12808    | 0h 7m 29s  |     9      |
|    24    |  0.2440   |  0.1775  |  0.1902  |    13    |    7956    |   13732    |  0h 8m 1s  |     11     |
|    25    |  0.2490   |  0.1706  |  0.1892  |    18    |    4709    |   13867    | 0h 7m 40s  |     9      |
|    26    |  0.2517   |  0.1558  |  0.1774  |    20    |    4932    |   12985    | 0h 7m 31s  |     9      |
|    27    |  0.2618   |  0.1822  |  0.1986  |    16    |    5000    |   12959    | 0h 7m 38s  |     10     |
|    28    |  0.2697   |  0.1555  |  0.1823  |    17    |    5099    |   12293    | 0h 7m 19s  |     9      |
|    29    |  0.2268   |  0.1691  |  0.1747  |    17    |    5149    |   13128    | 0h 7m 32s  |     11     |
|    30    |  0.2494   |  0.1874  |  0.1986  |    12    |    5236    |   12361    | 0h 7m 30s  |     11     |
|    31    |  0.2085   |  0.1843  |  0.1808  |    14    |    5212    |   13441    | 0h 7m 29s  |     12     |
|    32    |  0.2235   |  0.1413  |  0.1568  |    22    |    4829    |   12761    | 0h 7m 21s  |     9      |
|    33    |  0.1867   |  0.1638  |  0.1602  |    18    |    8310    |   14779    | 0h 8m 31s  |     12     |
|    34    |  0.2535   |  0.1934  |  0.2051  |    13    |    5418    |   12637    | 0h 7m 27s  |     10     |
|    35    |  0.2077   |  0.1012  |  0.1230  |    35    |    4418    |   11403    |  0h 7m 1s  |     9      |
|    36    |  0.2579   |  0.1775  |  0.1956  |    18    |    5377    |   13139    | 0h 7m 37s  |     10     |
|    37    |  0.1746   |  0.1623  |  0.1569  |    21    |    6746    |   15297    | 0h 8m 12s  |     12     |
|    38    |  0.1920   |  0.1902  |  0.1763  |    17    |    5432    |   14056    |  0h 8m 8s  |     14     |
|    39    |  0.2600   |  0.1758  |  0.1942  |    14    |    5083    |   13084    | 0h 7m 27s  |     9      |
|    40    |  0.2042   |  0.1486  |  0.1621  |    26    |    5583    |   13351    | 0h 7m 42s  |     11     |
|    41    |  0.2356   |  0.1391  |  0.1577  |    23    |    4483    |   12842    | 0h 7m 20s  |     10     |
|    42    |  0.2359   |  0.1860  |  0.1921  |    14    |    4914    |   13362    | 0h 7m 38s  |     12     |
|    43    |  0.2233   |  0.1461  |  0.1610  |    21    |    4820    |   12519    | 0h 7m 25s  |     10     |
|    44    |  0.2569   |  0.1771  |  0.1961  |    17    |    4884    |   12705    | 0h 7m 36s  |     10     |
|    45    |  0.2070   |  0.1834  |  0.1755  |    19    |    5570    |   12859    | 0h 7m 36s  |     13     |
|    46    |  0.2440   |  0.1550  |  0.1720  |    22    |    5010    |   11790    |  0h 7m 5s  |     9      |
|    47    |  0.2023   |  0.1744  |  0.1723  |    20    |    6158    |   13170    | 0h 7m 50s  |     14     |
|    48    |  0.2258   |  0.1555  |  0.1684  |    22    |    5698    |   13703    | 0h 7m 33s  |     10     |
|    49    |  0.1605   |  0.1861  |  0.1574  |    16    |    8683    |   15372    |  0h 9m 4s  |     16     |

